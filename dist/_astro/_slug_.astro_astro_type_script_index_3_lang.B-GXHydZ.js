function C(){const r=document.getElementById("backToTop");r&&r.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const s=document.getElementById("sidebarToggle"),e=document.getElementById("sidebarTags"),d=document.getElementById("sidebarChevron");let n=!0;s&&e&&d&&s.addEventListener("click",()=>{n=!n,n?(e.classList.remove("hidden"),d.style.transform="rotate(0deg)"):(e.classList.add("hidden"),d.style.transform="rotate(-90deg)")});const t=document.getElementById("mobileToggle"),m=document.getElementById("mobileTags"),o=document.getElementById("mobileToggleText");let i=!1;t&&m&&o&&t.addEventListener("click",()=>{i=!i,i?(m.classList.remove("hidden"),o.textContent=o.textContent.replace("Show","Hide")):(m.classList.add("hidden"),o.textContent=o.textContent.replace("Hide","Show"))})}function L(){const r=document.getElementById("tocToggle"),s=document.getElementById("tocChevron"),e=document.getElementById("sidebarTOC");document.getElementById("tocToggleText");const d=document.getElementById("mobileTOCToggle"),n=document.getElementById("mobileTOCToggleText"),t=document.getElementById("mobileTOC");function m(g){return g.toString().toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function o(){const g=document.querySelector("article .prose");if(!g)return;const f=Array.from(g.querySelectorAll("h1, h2, h3, h4, h5, h6"));if(!f.length){e&&(e.innerHTML='<p class="text-sm text-[var(--text-secondary)]">No headings</p>'),t&&(t.innerHTML="");return}const y=Math.min(...f.map(l=>parseInt(l.tagName[1]))),u=f.filter(l=>parseInt(l.tagName[1])===y);if(!u.length){e&&(e.innerHTML='<p class="text-sm text-[var(--text-secondary)]">No headings</p>'),t&&(t.innerHTML="");return}const b=(l,h=!1)=>{l.innerHTML="",u.forEach(c=>{c.id||(c.id=m(c.textContent||""));const a=document.createElement("a");a.href=`#${c.id}`,a.className=h?"text-sm text-[var(--text-primary)]":"text-sm",a.style=h?"color: var(--accent-color);":"",a.textContent=c.textContent||"",a.addEventListener("click",x=>{x.preventDefault(),document.getElementById(c.id).scrollIntoView({behavior:"smooth",block:"start"})}),l.appendChild(a)})};e&&b(e,!1),t&&b(t,!0)}document.addEventListener("DOMContentLoaded",o);let i=!0;r&&e&&s&&r.addEventListener("click",()=>{i=!i,i?(e.classList.remove("hidden"),s.style.transform="rotate(0deg)"):(e.classList.add("hidden"),s.style.transform="rotate(-90deg)")});let T=!1;d&&t&&n&&d.addEventListener("click",()=>{T=!T,T?(t.classList.remove("hidden"),n.textContent=n.textContent.replace("Show","Hide")):(t.classList.add("hidden"),n.textContent=n.textContent.replace("Hide","Show"))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{C(),L()}):(C(),L());
